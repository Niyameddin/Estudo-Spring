/*!
 * estudo-spring v1.2.0 (http://github.com/gsag/estudo-spring)
 * 27/09/2015 Guilherme Alves <gsag.dh@gmail.com>
 * Licensed under the MIT license
 */
!function(){"use strict";angular.module("bookcaseApp",["ui.router","ngResource"]),angular.module("bookcaseApp").constant("$config",{baseUrl:"http://localhost:9090",bookApi:"/bookcase/api/books",projectName:"Estudo-Spring"}),angular.module("bookcaseApp").config(function($stateProvider,$urlRouterProvider,$config){$stateProvider.state("bookcase",{url:"/bookcase",templateUrl:"assets/views/partial-bookcase.html",controller:"bookcaseController"}).state("books",{url:"/bookcase/books",templateUrl:"assets/views/partial-bookcase.html",controller:"bookcaseController"}).state("register",{url:"/bookcase/register",templateUrl:"assets/views/partial-register-book.html",controller:"registerBookController"}),$urlRouterProvider.otherwise("/bookcase")})}(),function(){"use strict";angular.module("bookcaseApp").controller("bookcaseController",function($scope,bookcaseService){$scope.errorMessage="",$scope.books={data:[]},$scope.hasBooks=!0;var hasBooksLoaded=(function(){bookcaseService.getBooks.success(function(data){$scope.books={data:data}}).error(function(data,status){$scope.errorMessage="Aconteceu um problema ao resgatar os dados do servidor. Tente novamente mais tarde. "})["finally"](function(){hasBooksLoaded()})}(),function(){0===Object.keys($scope.books.data).length&&($scope.hasBooks=!1)})})}(),function(){"use strict";angular.module("bookcaseApp").controller("navigationController",function($scope,$config){$scope.appName=$config.projectName,$scope.baseUrl=$config.baseUrl})}(),function(){"use strict";angular.module("bookcaseApp").controller("registerBookController",function($scope,Book,$state){$scope.newBook={isbn:"9999999999993",title:"angular+springmvc",author:"guilherme",edition:"0"},$scope.response={},$scope.getBooks=function(){$scope.books=Book.query()},$scope.createBook=function(){var book=new Book($scope.newBook);book.$save({},function(response){$scope.response=response,console.log($scope.response)},function(failedResponse){$scope.response=failedResponse})};(function(){$scope.createBook()})()})}(),function(){"use strict";angular.module("bookcaseApp").directive("ngHref",["$config",function($config){return function(scope,element,attrs){function ngHref(event){event.target.href=$config.baseUrl+$config.bookApi}element.bind("click",ngHref)}}])}(),function(){"use strict";angular.module("bookcaseApp").factory("Book",function($resource,$config){return $resource($config.baseUrl+$config.bookApi,{id:"@id"},{update:{method:"PUT"}})})}(),function(){"use strict";angular.module("bookcaseApp").service("bookcaseService",function($http,$config){var _getBooks=function(){return $http.get($config.baseUrl+$config.bookApi)};return{getBooks:_getBooks()}})}();